<template>
    <div class="introduction-tuto">

        <!--<span class="slider-numbers">{{ counter }} / 4</span>-->
        <!--<svg width="236" height="118" viewBox="0 0 236 118" fill="none" xmlns="http://www.w3.org/2000/svg">-->
        <!--<path d="M236 12.4453C236 5.5799 230.42 -2.43905e-07 223.555 -5.44002e-07L12.4453 -9.77189e-06C5.57991 -1.0072e-05 1.50149e-05 5.57989 1.47148e-05 12.4453L1.06448e-05 105.555C1.03447e-05 112.42 5.57991 118 12.4453 118L223.555 118C230.42 118 236 112.42 236 105.555L236 12.4453ZM231.506 85.6192C231.506 87.1942 230.2 88.5 228.625 88.5C227.05 88.5 225.859 87.1942 225.859 85.6192C225.859 84.0441 227.05 82.7383 228.625 82.7383C230.2 82.7383 231.506 84.0441 231.506 85.6192ZM230.238 50.0117L230.238 67.9883C230.238 68.8234 229.46 69.4863 228.625 69.4863C227.79 69.4863 227.127 68.8234 227.127 67.9883L227.127 50.0117C227.127 49.1766 227.79 48.5137 228.625 48.5137C229.46 48.5137 230.238 49.1766 230.238 50.0117ZM214.682 4.83984L214.682 113.16L19.7051 113.16L19.7051 4.83984L214.682 4.83984ZM14.8652 51.625L14.8652 66.375C14.8652 69.0593 12.7097 71.2148 10.0254 71.2148C7.34108 71.2148 5.18556 69.0593 5.18556 66.375L5.18556 51.625C5.18556 48.9407 7.34108 46.7852 10.0254 46.7852C12.7097 46.7852 14.8652 48.9407 14.8652 51.625Z"-->
        <!--fill="#323232"/>-->
        <!--</svg>-->

        <div class="slideshow">
            <div class="slide">
                <div class="slide-top">
                    <p class="title light">
                        Avancer
                    </p>
                    <div class="content">
                        <p class="bold">
                            Incline ton smarthphone vers l'avant
                        </p>
                        <div class="light">
                            Plus tu penches, plus je vais vite !
                        </div>
                    </div>
                </div>

                <div class="lottie">
                    <svg width="200" height="145" viewBox="0 0 200 145" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M180.5 85C178.5 79 175.271 74.5 169.453 74.5L30.5469 74.5C24.7287 74.5 21.6016 79.5 20 85.0469L1.266e-05 133.953C1.24057e-05 139.771 4.72874 144.5 10.5469 144.5L189.453 144.5C195.271 144.5 200 139.771 200 133.953L180.5 85ZM190.285 128C190.285 129.335 189.179 130.441 187.844 130.441C186.509 130.441 185.5 129.335 185.5 128C185.5 126.665 186.509 125.559 187.844 125.559C189.179 125.559 190.285 126.665 190.285 128ZM178.5 98.5L184 113.5C184 114.208 184.5 114.5 183.5 115C183 115.5 181.73 114.938 181.73 114.23L176 99.5C176 98.7923 175.5 98 176.5 97.5C177.5 97 178 98 178.5 98.5ZM161.934 78.6016L181.934 140.398L16.6992 140.398L36.6992 78.6016L161.934 78.6016ZM26.5 100L21.5 113C20.5 115.5 18 117 15.5 116C13.3984 115.159 13.5 113.275 13.5 111L19.5 97.5C20.5 95.5 22 93.9286 24.5 95C28 96.5 27 98.3984 26.5 100Z"
                              fill="#323232"/>
                        <path d="M99.5 57V3M99.5 3L89 13.5M99.5 3L110 13.5" stroke="black" stroke-width="3"/>
                    </svg>
                </div>
            </div>
            <div class="slide">
                <div class="slide-top">
                    <p class="title light">
                        Tourner
                    </p>
                    <div class="content">
                        <p class="bold">
                            Tourne ton smartphone à gauche ou à droite.
                        </p>
                    </div>
                </div>

                <div class="lottie">
                    <svg width="204" height="181" viewBox="0 0 204 181" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M182.255 51.4772C180.854 46.2491 175.466 43.1386 170.238 44.5394L9.4771 87.6152C4.24905 89.0161 1.13847 94.4037 2.53933 99.6318L21.5378 170.535C22.9387 175.763 28.3264 178.874 33.5544 177.473L194.315 134.397C199.544 132.996 202.654 127.609 201.253 122.381L182.255 51.4772ZM193.763 108.117C194.085 109.316 193.357 110.577 192.157 110.898C190.958 111.22 189.785 110.468 189.463 109.269C189.142 108.069 189.782 106.832 190.982 106.511C192.181 106.189 193.442 106.917 193.763 108.117ZM185.532 81.2599L189.2 94.9491C189.371 95.5851 188.914 96.2487 188.278 96.4191C187.642 96.5895 187.002 96.2199 186.831 95.584L183.163 81.8947C182.993 81.2588 183.362 80.6187 183.998 80.4483C184.634 80.2779 185.362 80.6239 185.532 81.2599ZM164.469 50.0355L186.571 132.522L38.0952 172.306L15.993 89.8195L164.469 50.0355ZM21.8537 126.434L24.8634 137.666C25.4111 139.711 24.2095 141.792 22.1653 142.34C20.1212 142.887 18.04 141.686 17.4922 139.641L14.4826 128.409C13.9348 126.365 15.1365 124.284 17.1806 123.736C19.2247 123.188 21.306 124.39 21.8537 126.434Z"
                              fill="#323232"/>
                        <path d="M140 27C127.121 8.13441 89.0909 -18.2774 40 27M40 27V18.6149M40 27H49.0909"
                              stroke="black" stroke-width="3"/>
                    </svg>

                </div>
            </div>
            <div class="slide">
                <div class="slide-top">
                    <p class="title light">
                        Monter & Descendre
                    </p>
                    <div class="content">
                        <p class="bold">
                            Utilise le curseur pour monter ou descendre.
                        </p>
                    </div>
                </div>

                <div class="draggerBounds">
                    <div class="dragger">Drag</div>
                </div>

            </div>
            <div class="slide">
                <div class="slide-top">
                    <p class="title light">
                        Fin de l'experience
                    </p>
                    <div class="content">
                        <p class="bold">
                            Les voyages me fatiguent assez-vite, <br> Je te préviendrais quand je devrais rentrer
                        </p>
                    </div>
                </div>

                <div class="lottie">
                    <div class="dots-battery">
                        <div class="dots-battery--item pulse"></div>
                        <div class="dots-battery--item"></div>
                        <div class="dots-battery--item"></div>
                        <div class="dots-battery--item"></div>
                    </div>
                </div>
            </div>
        </div>
        <button class="boxnav__item boxnav__item--prev">
            <svg
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    width="11.805px" height="16.805px">
                <path fill-rule="evenodd" stroke="rgb(0, 3, 135)" stroke-width="1.87px" stroke-linecap="butt"
                      stroke-linejoin="miter" fill="none"
                      d="M7.646,14.935 L0.936,7.936 L7.646,0.935 "/>
            </svg>
        </button>
        <button class="boxnav__item boxnav__item--next">
            <svg
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    width="11.805px" height="16.805px">
                <path fill-rule="evenodd" stroke="rgb(0, 3, 135)" stroke-width="1.87px" stroke-linecap="butt"
                      stroke-linejoin="miter" fill="none"
                      d="M2.963,0.935 L9.935,7.935 L2.963,14.935 "/>
            </svg>

        </button>


        <nav class="boxnav">
            <div class="boxnav__item boxnav__item--label">
                <span class="boxnav__label boxnav__label--current">1</span>
                <span class="espace">/</span>
                <span class="boxnav__label boxnav__label--total"></span>
            </div>

        </nav>


    </div>
</template>

<script>


    import Slideshow from "../utils/Slider";
    import * as UMath from "../utils/UMath";


    var GyroNorm = require('gyronorm');

    export default {
        name: 'introduction-view',

        data() {
            return {
                lookAtScreen: true,
                counter: 1,
                foward: false,
                leftAndRight: false,
                landscapeOrientation: false,
                unlockFoward: true,
                unlockLeftAndRight: true,
                posX: 0,
                posY: 0,
            }
        },

        sockets: {

            movingIntroduction: function () {
                this.slide.navigate('right')
            },
            stopIntroduction: function (data) {
                this.slide.navigate('right')
                this.$router.push('understand-introduction-tuto')
            }
        },

        methods: {
            nextSlide() {
                this.counter++;
            },

        },


        mounted() {
            this.slide = new Slideshow(document.querySelector('.slideshow'));

            setTimeout(() => {
                this.$root.$emit('onTuto', "salut")
            })
        }

    };
</script>


<style scoped lang="scss">
    .slider-numbers {
        position: absolute;
        right: 30px;
        top: 30px;
    }

    .slide {
        width: 100%;
        height: 100%;
        min-height: 500px;

        background-image: url(../assets/img/bg-white.png);
        -webkit-background-size: cover;
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        &-top {
            .title {
                font-size: 30px!important;
                margin: 40px 0 60px 0;
            }
            p {
                &.light {
                    font-size: 18px;
                }
                &.bold {
                    margin: 0;
                    font-size: 30px;
                }
            }
        }
        .lottie {
            margin-top: 70px;
            padding-bottom: 90px;
        }
    }

    .introduction-tuto {
        text-align: center;
    }

    svg {
        margin: 0 auto;
    }

    .fade-enter-active, .fade-leave-active {
        transition: opacity .5s, visibility .5s;
    }

    .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */
    {
        opacity: 0;
        visibility: hidden;
    }

    #canvas {
        width: 300px !important;
        height: 300px !important;
    }

    .draggerBounds {
        z-index: 101;
        position: relative;
        left: 30px;
        width: 50px;
        height: 250px;
        background: grey;
        margin: 20px;
    }

    .dragger {
        width: 50px;
        height: 50px;
        background: red;
        text-align: center;
        line-height: 50px;
        position: absolute;
    }

    .slideshow {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        max-width: 900px;
        width: 100%;
        margin: 0 auto;
    }

    .slide {
        position: absolute;
        opacity: 0;
    }

    .slide--current {
        opacity: 1;
        z-index: 100;
        position: relative;
    }

    .boxnav__item--prev, .boxnav__item--next {
        position: absolute;
        width: 40px;
        display: block;
        /*display: none;*/
    }

    .boxnav__item--prev {
        top: 20px;

    }

    .boxnav__item--next {
        top: 40px;
    }

    .boxnav {
        position: absolute;
        right: 30px;
        top: 30px;
    }

</style>
